<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Class Pairing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, Segoe UI, sans-serif; margin: 2rem; }
    .card { max-width: 600px; margin: auto; padding: 1.5rem; border: 1px solid #ddd; border-radius: 12px; }
    .name { font-size: 2rem; font-weight: 600; margin: 1rem 0; }
    .secondary { color: #666; margin-top: 0.25rem; }
    button { padding: 0.6rem 1rem; margin-right: 0.5rem; }
    .muted { color: #888; font-size: 0.9rem; }
    .list { margin-top: 1rem; font-size: 0.95rem; }
  </style>
</head>
<body>
  <div class="card">
    <h1>Class pairing</h1>
    <p class="secondary">Click “Draw” to pick a random person. If it’s yourself, click “It’s me” to reroll excluding you.</p>

    <div id="current" class="name">—</div>

    <div>
      <button id="btn-draw">Draw</button>
      <button id="btn-itsme" disabled>It’s me (reroll)</button>
      <button id="btn-reset">Reset</button>
    </div>

    <p class="muted">Remaining:</p>
    <div id="remaining" class="list">—</div>
  </div>

  <script>
    const ORIGINAL = ['Preme','Earn','Manie','Dou Dou','Aarav','Caolan','Freddie','Lara','Pryn','James','Jack','LeLe','Bil'];
    let namelist = [...ORIGINAL];
    let current = null;

    function render() {
      document.getElementById("remaining").innerText = namelist.join(", ") || "No one left.";
      document.getElementById("current").innerText = current || "—";
      document.getElementById("btn-itsme").disabled = !current || namelist.length === 0;
    }

    function draw(exclude=null) {
      let candidates = namelist.filter(n => n !== exclude);
      if (!candidates.length) { current = null; return; }
      current = candidates[Math.floor(Math.random()*candidates.length)];
      namelist = namelist.filter(n => n !== current);
    }

    document.getElementById("btn-draw").onclick = () => { draw(); render(); };
    document.getElementById("btn-itsme").onclick = () => { draw(current); render(); };
    document.getElementById("btn-reset").onclick = () => { namelist = [...ORIGINAL]; current=null; render(); };

    render();
  </script>
</body>
</html>
